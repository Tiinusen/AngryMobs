package Invulnerability

import ClosureEvents
import InvulnerabilityBuff
import ClosureTimers
import Owner
import SoldierEntity
import Ids

init
	nullTimer() -> 
		EventListener.onPointCast(HERO_INVULNERABILITY_POWER_ID) (unit caster, vec2 target) ->
			let side = caster.getOwner().toOwnerType().getSide()
			SoldierEntity.getSoldiers((SoldierEntity soldier) -> soldier.getUnit().getOwner().toOwnerType().getSide() == side and soldier.isWithin(target, 600)).forEach() (SoldierEntity soldier) ->
				InvulnerabilityBuff.add(soldier, 3+caster.getAbilityLevel(HERO_INVULNERABILITY_POWER_ID)*2.)
		